<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>Matematica</title>

    <link rel="stylesheet" href="style.css" />

    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
</head>

<body>
    <button id="start-video">
        Start
    </button>

    <a-scene>
        <a-assets>
            <!-- <video id="video" crossorigin="anonymous" preload="auto" src="./video/math/architecture_2_montage.mp4"
                playsinline webkit-playsinline></video> -->
                
            <video id="video" crossorigin="anonymous" preload="auto" src="https://vr-projects-eu.s3.eu-central-1.amazonaws.com/videos/math/architecture_2_montage.mp4"
            playsinline webkit-playsinline></video>

            <img id="play-icon" src="./img/play.png" />
            <img id="pause-icon" src="./img/pause.png" />
            <img id="next-icon" src="./img/next.png" />
        </a-assets>

        <a-videosphere id="skybox" rotation="0 130 0" src="#video"></a-videosphere>
        <a-entity id="controls-wrapper">
            <a-image id="video-control" class="raycastable control" video-360-play-pause position="-0.5 1.25 -2"
                scale="0.4 0.4 0.4" src="#hotspot" look-at="#cam">
            </a-image>
            <a-image src="#next-icon" class="raycastable control"  position="1 1.25 -2" onclick="mathController.OnNextStep()"
                scale="0.4 0.4 0.4" src="#hotspot" look-at="#cam">
            </a-image>
        </a-entity>

        <a-entity id="rig" position="0 0 0">
            <a-entity id="cam" camera look-controls>
                <a-entity cursor="fuse:true;fuseTimeout:2000"
                    geometry="primitive:ring;radiusInner:0.01;radiusOuter:0.02" position="0 0 -1.8"
                    material="shader:flat;color:#ff0000"
                    animation__mouseenter="property:scale;to:3 3 3;startEvents:mouseenter;endEvents:mouseleave;dir:reverse;dur:2000;loop:1"
                    raycaster="objects:.raycastable; far: 100;">
                </a-entity>
            </a-entity>
        </a-entity>

        <a-entity class="geo-set" visible="false">
            <a-box scale="5 500 5" position="-166.71 231 -173.80" rotation="-5.5 -45 0" material="color:black;">
            </a-box>
            <a-entity text="value: 1; color: black; align: center;" position="-125 350 -198" scale="500 500 500">
            </a-entity>

            <a-box scale="5 400 5" position="-182.5 182.2 -157.5" material="color:gray;"></a-box>
            <a-entity text="value: 2; color: black; align: center;" position="-297 281 -198" scale="500 500 500"
                rotation="0 50 0"></a-entity>

            <a-box scale="5 250 5" position="-279.72 -15.553 -82.6" rotation="90 -52 0" material="color:gray;">
            </a-box>
            <a-entity text="value: 3; color: black; align: center;" position="-388 22.5 -198" scale="500 500 500"
                rotation="0 60 0"></a-entity>
        </a-entity>

        <a-entity class="geo-set" visible="false">
            <a-box id="box" scale="1 1500 1" position="4 -15 19" rotation="90 90 0" material="color:black;">
            </a-box>
            <a-box id="box" scale="5 100 5" position="491.9 33.5 19.495" rotation="0 0 0" material="color:black;">
            </a-box>
            <a-entity text="value: 1; color: black; align: center;" position="300 56 -10" rotation="0 -90 0"
                scale="500 500 500"></a-entity>
            <a-entity text="value: 2; color: black; align: center;" position="300 5 -10" rotation="0 -90 0"
                scale="500 500 500"></a-entity>
            <a-entity text="value: 3; color: black; align: center;" position="-300 5 0" rotation="0 90 0"
                scale="500 500 500"></a-entity>
        </a-entity>

        <a-entity class="geo-set" visible="false">
            <a-box scale="5 500 5" position="-125.6 173 63" rotation="-3 -28 0" material="color:black;">
            </a-box>
            <a-entity text="value: 2; color: black; align: center;" position="-125.6 173 79" scale="500 500 500"
                rotation="0 120 0"></a-entity>

            <a-box id="box" scale="2 80 2" position="-126 56 43" rotation="90 37 0" material="color:#333;">
            </a-box>

            <a-box scale="5 5 5" position="-119 115 -2" rotation="0 102 0" material="color:black;">
            </a-box>
            <a-entity text="value: 1a; color: black; align: center;" position="-123 150 -2" scale="250 250 250"
                rotation="0 110 0"></a-entity>

            <a-box scale="5 5 5" position="-73.6 108 89" rotation="0 90 0" material="color:black;">
            </a-box>
            <a-entity text="value: 1b; color: black; align: center;" position="-73.6 124.8 89" scale="250 250 250"
                rotation="0 130 0"></a-entity>

            <a-box scale="5 5 5" position="-80 43 56" rotation="0 134 0" material="color:black;">
            </a-box>
            <a-entity text="value: 1c; color: black; align: center;" position="-80 58.5 56" scale="250 250 250"
                rotation="0 110 0"></a-entity>

            <a-box scale="5 5 5" position="-132 50 11" rotation="0 102 0" material="color:black;">
            </a-box>
            <a-entity text="value: 1d; color: black; align: center;" position="-132 69 11" scale="250 250 250"
                rotation="0 130 0"></a-entity>
        </a-entity>

        <a-entity class="geo-set" visible="false">
            <a-box scale="5 500 5" position="254.5 -282.7 16.43" rotation="90 45.198 0" material="color:black;">
            </a-box>
            <a-box scale="5 500 5" position="115.21 -216 121.6" rotation="90 12.947 0" material="color:#333333;">
            </a-box>

            <a-entity text="value: 1; color: black; align: center;" position="171.5 -118.8 85.3" scale="250 250 250"
                rotation="0 -117 0"></a-entity>
            <a-entity text="value: 2; color: black; align: center;" position="111.3 -118.8 212.145" scale="250 250 250"
                rotation="0 -149.98 0"></a-entity>
            <a-entity text="value: 3 ; color: black; align: center;" position="44.4 -118.8 -85.979" scale="250 250 250"
                rotation="0 -30 0"></a-entity>
        </a-entity>
        
        <a-entity class="geo-set" visible="false">
            <a-entity position="-131.37 -52.737 73.880" rotation="-5 50 0">
                <a-box scale="5 500 5" position="5.7 250 3.645" rotation="0 0 0" material="color:black;">
                </a-box>
            </a-entity>

            <a-entity text="value: 1; color: black; align: center;" position="-110 150 31" scale="250 250 250"
                rotation="0 110 0"></a-entity>
            <a-entity text="value: 2; color: black; align: center;" position="-110 -17 31" scale="250 250 250"
                rotation="0 110 0"></a-entity>
            <a-entity text="value: 4; color: black; align: center;" position="22.5 -17.8 68.28" scale="250 250 250"
                rotation="0 -158 0"></a-entity>
            <a-entity text="value: 3b; color: black; align: center;" position="-6.7 34.362 80" scale="250 250 250"
                rotation="0 -158 0"></a-entity>
            <a-entity text="value: 3a; color: black; align: center;" position="32.57 64.4 64.2" scale="250 250 250"
                rotation="0 -158 0"></a-entity>
            <a-entity text="value: 3c; color: black; align: center;" position="-20.6 93.4 85.7" scale="250 250 250"
                rotation="0 170 0"></a-entity>

            <a-entity position="-131.37 -48.032 78.299" rotation="90 70 0">
                <a-box scale="5 200 5" position="5.7 99.320 3.645" rotation="0 0 0" material="color:black;">
                </a-box>
            </a-entity>

            <a-entity position="-131.37 -52.737 73.880" rotation="25 50 0" scale="1 0.48 1">
                <a-box scale="5 500 5" position="5.7 250 3.645" rotation="0 0 0" material="color:#333333;">
                </a-box>
            </a-entity>
            <a-entity position="-131.37 -52.737 73.880" rotation="44 50 0" scale="1 0.34 1">
                <a-box scale="5 500 5" position="5.7 250 3.645" rotation="0 0 0" material="color:#333333;">
                </a-box>
            </a-entity>
            <a-entity position="-131.37 -52.737 73.880" rotation="41 50 0" scale="1 1.2 1">
                <a-box scale="5 500 5" position="5.7 250 3.645" rotation="0 0 0" material="color:#333333;">
                </a-box>
            </a-entity>
        </a-entity>

        <a-entity class="geo-set" visible="false">
            <a-entity position="-139.67 -52.737 85.856" rotation="-1.7 50 -2.7">
                <a-box scale="5 500 5" position="5.7 250 3.645" rotation="0 0 0" material="color:black;">
                </a-box>
            </a-entity>
            <a-entity position="-149.16 -61.38 -78.216" rotation="-12.5 50.6 -2.9">
                <a-box scale="5 500 5" position="5.7 250 3.645" rotation="0 0 0" material="color:black;">
                </a-box>
            </a-entity>
            <a-entity position="-149.16 -11.38 -84.877" rotation="60 0 0" scale="1 0.75 1">
                <a-box scale="5 500 5" position="5.7 241 -76" rotation="0 0 0" material="color:black;">
                </a-box>
            </a-entity>

            <a-entity text="value: 1; color: black; align: center;" position="-68.5 150 15.9" scale="250 250 250"
                rotation="0 110 0"></a-entity>

            <a-entity text="value: 2; color: black; align: center;" position="-153 216 -88.7" scale="250 250 250"
                rotation="0 110 0"></a-entity>

            <a-entity text="value: 3; color: black; align: center;" position="-130 118 -22.5" scale="250 250 250"
                rotation="0 110 0"></a-entity>
        </a-entity>
        <a-entity class="geo-set" visible="false" scale="0.03 0.03 0.03">
            <a-entity position="422 -286 187" rotation="0 50 -5" scale="1 5 1">
                <a-box scale="5 500 5" position="5.7 250 3.645" rotation="0 0 0" material="color:black;">
                </a-box>
            </a-entity>
            <a-box scale="5 500 5" position="254.5 -282.7 16.43" rotation="90 45.198 0" material="color:black;">
            </a-box>

            <a-entity text="value: 1; color: black; align: center;" position="175 -64.4 117.35" scale="500 500 500"
                rotation="0 -123.5 0"></a-entity>
            <a-entity text="value: 2; color: black; align: center;" position="150 101 8" scale="500 500 500"
                rotation="0 -123.5 0"></a-entity>
            <a-entity text="value: 3; color: black; align: center;" position="76.321 -64.4 -86.616" scale="500 500 500"
                rotation="0 -52.584 0"></a-entity>
        </a-entity>
        

        <a-entity class="geo-set" visible="false" scale="0.03 0.03 0.03">
            <a-entity scale="1 1 1" position="21.642 -170 -50.78" rotation="0 45.198 0">
                <a-box scale="5 400 5" position="0 0 200" rotation="90 0 0" material="color:black;">
                </a-box>
            </a-entity>
            <a-entity scale="1 1 1" position="21.642 -170 -50.78" rotation="0 120 0">
                <a-box scale="5 400 5" position="0 0 200" rotation="90 0 0" material="color:black;">
                </a-box>
            </a-entity>
            
            <a-entity scale="1 1 1" position="287 -170 178" rotation="0 165 0">
                <a-box scale="5 500 5" position="0 0 200" rotation="90 7.824 0" material="color:black;">
                </a-box>
            </a-entity>

            <a-entity text="value: 1; color: black; align: center;" position="176 -64.4 -156.89" scale="500 500 500"
                rotation="0 -52.584 0"></a-entity>
            <a-entity text="value: 2; color: black; align: center;" position="154 -64.4 137" scale="500 500 500"
                rotation="0 -123.5 0"></a-entity>
                <a-entity text="value: 3; color: black; align: center;" position="58.469 -64.4 -20" scale="500 500 500"
                    rotation="-47 -104 0"></a-entity>
        </a-entity>

        <a-entity class="geo-set" visible="false">
            <a-box scale="5 100 5" position="55.6 -206 347" rotation="-9 5.794 41.035" material="color:black;">
            </a-box>
            <a-box scale="5 100 5" position="0.648 -203 246.48" rotation="-9 5.794 41.035" material="color:black;">
            </a-box>
            <a-box scale="5 150 5" position="-5.634 -178.25 312.54" rotation="47.88 123.2 104.8" material="color:black;">
            </a-box>
            <a-box scale="5 175 5" position="71.8 -261 330" rotation="46.75 128.67 108.84" material="color:black;">
            </a-box>

            <a-entity text="value:2; color: black; align: center;" position="25.158 -241 371.68" scale="500 500 500"
                rotation="6 179.75 0"></a-entity>
            
            <a-box scale="5 75 5" position="-336 -65.43 180.48" rotation="-10.605 8.481 81.366" material="color:black;">
            </a-box>
            <a-box scale="5 75 5" position="-374.5 -65.43 88.25" rotation="-10.605 22.972 81.366" material="color:black;">
            </a-box>
            <a-box scale="5 100 5" position="-290 -65.43 111.25" rotation="-11.605 -67 89.5" material="color:black;">
            </a-box>
            <a-box scale="5 100 5" position="-425.5 -65.39 157.6" rotation="-11.605 -67 89.5" material="color:black;">
            </a-box>

            <a-entity text="value: 1; color: black; align: center;" position="-394 -34.332 146.5" scale="750 750 750"
                rotation="0 113 0"></a-entity>
        </a-entity>

        <a-entity class="geo-set" visible="false">
            <a-box scale="5 100 5" position="55.6 -206 347" rotation="-9 5.794 41.035" material="color:black;">
            </a-box>
            <a-box scale="5 100 5" position="0.648 -203 246.48" rotation="-9 5.794 41.035" material="color:black;">
            </a-box>
            <a-box scale="5 150 5" position="-5.634 -178.25 312.54" rotation="47.88 123.2 104.8" material="color:black;">
            </a-box>
            <a-box scale="5 175 5" position="71.8 -261 330" rotation="46.75 128.67 108.84" material="color:black;">
            </a-box>

            <a-entity text="value:2; color: black; align: center;" position="25.158 -241 371.68" scale="500 500 500"
                rotation="6 179.75 0"></a-entity>
            
            <a-box scale="5 75 5" position="-336 -65.43 180.48" rotation="-10.605 8.481 81.366" material="color:black;">
            </a-box>
            <a-box scale="5 75 5" position="-374.5 -65.43 88.25" rotation="-10.605 22.972 81.366" material="color:black;">
            </a-box>
            <a-box scale="5 100 5" position="-290 -65.43 111.25" rotation="-11.605 -67 89.5" material="color:black;">
            </a-box>
            <a-box scale="5 100 5" position="-425.5 -65.39 157.6" rotation="-11.605 -67 89.5" material="color:black;">
            </a-box>

            <a-entity text="value: 1; color: black; align: center;" position="-394 -34.332 146.5" scale="750 750 750"
                rotation="0 113 0"></a-entity>
        </a-entity>
    </a-scene>

    <script src="./js/general/hotspot.js"></script>
    <script src="./js/general/play-on-window-click.js"></script>
    <script src="./js/general/video-controls.js"></script>
    <script src="./js/general/vr-controller.js"></script>
    <script src="./js/controllers/math-01-controller.js"></script>

</body>

</html>
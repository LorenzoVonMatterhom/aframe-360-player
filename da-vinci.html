<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>Leonardo da Vinci machines Working models</title>

    <link rel="stylesheet" href="style.css" />

    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
</head>

<body>
    <button id="start-video">
        Start
    </button>

    <a-scene>
        <a-assets>
            <video id="video" crossorigin="anonymous" preload="auto"
                src="https://vr-projects-eu.s3.eu-central-1.amazonaws.com/videos/da-vinci.mp4" playsinline
                webkit-playsinline></video>

            <img id="play-icon" src="./img/play.png" />
            <img id="pause-icon" src="./img/pause.png" />
            <img id="next-icon" src="./img/next.png" />
            <img id="info-icon" src="./img/info.png" />
        </a-assets>

        <a-videosphere id="skybox" rotation="0 130 0" src="#video"></a-videosphere>
        <a-entity id="controls-wrapper">
            <a-image id="video-control" class="raycastable control" video-360-play-pause position="-0.5 1.25 -2"
                scale="0.4 0.4 0.4" src="#hotspot" look-at="#cam">
            </a-image>
            <a-image src="#next-icon" class="raycastable control" position="1 1.25 -2"
                onclick="davinciController.OnNextStep()" scale="0.4 0.4 0.4" src="#hotspot" look-at="#cam">
            </a-image>
        </a-entity>

        <a-entity id="rig" position="0 0 0">
            <a-entity id="cam" camera look-controls>
                <a-entity cursor="fuse:true;fuseTimeout:2000"
                    geometry="primitive:ring;radiusInner:0.01;radiusOuter:0.02" position="0 0 -1.8"
                    material="shader:flat;color:#ff0000"
                    animation__mouseenter="property:scale;to:3 3 3;startEvents:mouseenter;endEvents:mouseleave;dir:reverse;dur:2000;loop:1"
                    raycaster="objects:.raycastable; far: 100;">
                </a-entity>
            </a-entity>
        </a-entity>


        <a-image id="panel" width="4" height="3" src="" position="4 0 -1" look-at="#cam"></a-image>

        <!-- Chain Drive -->
        <a-entity class="geo-set" visible="false">
            <a-image class='to-raycast' src="./img/da-vinci/buton00.png" scale="1 1 1" position="-3.31 0.21 -2.23"
                look-at="#cam" open-image="target:panel;src:./img/da-vinci/01-chain-drive-mechanism.jpg">
            </a-image>
            <a-image src="./img/da-vinci/buton00.png" scale="1 1 1" position="0.95 2.88 3.88" look-at="#cam"
                class='to-raycast' open-image="target:panel;src:./img/da-vinci/02-geometric-shapes.jpg">
                </a-image>
        </a-entity>
        <!-- Anemometer -->
        <a-entity class="geo-set" visible="false">
            <a-image src="./img/da-vinci/buton00.png" scale="1 1 1" position="-2.12 0 -3.39" look-at="#cam"
                class='to-raycast' open-image="target:panel;src:./img/da-vinci/03-anemometer.jpg">
            </a-image>
            <a-image src="./img/da-vinci/buton00.png" scale="1 1 1" position="0.95 0.46 3.88" look-at="#cam"
                class='to-raycast' open-image="target:panel;src:./img/da-vinci/04-flywheel.jpg">
            </a-image>
        </a-entity>
        <!-- Vertical Ball-->
        <a-entity class="geo-set" visible="false">
            <a-image src="./img/da-vinci/buton00.png" scale="1 1 1" position="-3.31 1.34 -2.233" look-at="#cam"
                class='to-raycast' open-image="target:panel;src:./img/da-vinci/05-vertical-ball-bearing.jpg">
            </a-image>
        </a-entity>
        <!-- Printing Press-->
        <a-entity class="geo-set" visible="false">
            <a-image src="./img/da-vinci/buton00.png" scale="1 1 1" position="3.99 1.34 -0.19" look-at="#cam"
                class='to-raycast' open-image="target:panel;src:./img/da-vinci/06-printing-press.jpg">
            </a-image>
        </a-entity>
        <!-- Revolving Crane -->
        <a-entity class="geo-set" visible="false">
            <a-image src="./img/da-vinci/buton00.png" scale="1 1 1" position="-0.885 0 3.9" look-at="#cam"
                class='to-raycast' open-image="target:panel;src:./img/da-vinci/07-robot.jpg">
            </a-image>
            <a-image src="./img/da-vinci/buton00.png" scale="1 1 1" position="-3.466 0 -1.99" look-at="#cam"
                class='to-raycast' open-image="target:panel;src:./img/da-vinci/08-the revolving crane.jpg">
            </a-image>
        </a-entity>
        <!-- Archimedes Screw -->
        <a-entity class="geo-set" visible="false">
            <a-image src="./img/da-vinci/buton00.png" scale="1 1 1" position="-2.616 0 3.02" look-at="#cam"
                class='to-raycast' open-image="target:panel;src:./img/da-vinci/09-archimedes-screw.jpg">
            </a-image>
            <a-image src="./img/da-vinci/buton00.png" scale="1 1 1" position="-3.99 0 -0.169 " look-at="#cam"
                class='to-raycast' open-image="target:panel;src:./img/da-vinci/10-paddle-boat.jpg">
            </a-image>
        </a-entity>
        <!-- Machine Gun -->
        <a-entity class="geo-set" visible="false">
            <a-image src="./img/da-vinci/buton00.png" scale="1 1 1" position="3.74 -0.65 1.41" look-at="#cam"
                class='to-raycast' open-image="target:panel;src:./img/da-vinci/12-machine-gun.jpg">
            </a-image>
            <a-image src="./img/da-vinci/buton00.png" scale="1 1 1" position="2.76 -2.19 -2.89" look-at="#cam"
                class='to-raycast' open-image="target:panel;src:./img/da-vinci/11-armoured-tank.jpg">
            </a-image>
        </a-entity>
        <!-- Ornitopter -->
        <a-entity class="geo-set" visible="false">
            <a-image src="./img/da-vinci/buton00.png" scale="1 1 1" position="0.67 2.88 3.94" look-at="#cam"
                class='to-raycast' open-image="target:panel;src:./img/da-vinci/13-wing-trail.jpg">
            </a-image>
            <a-image src="./img/da-vinci/buton00.png" scale="1 1 1" position="2.55 -1.53 -3.08" look-at="#cam"
                class='to-raycast' open-image="target:panel;src:./img/da-vinci/14-ornitopter.jpg">
            </a-image>
        </a-entity>
        <!-- Oil Press -->
        <a-entity class="geo-set" visible="false">
            <a-image src="./img/da-vinci/buton00.png" scale="1 1 1" position="-2.97 -1.53 -2.674" look-at="#cam"
                class='to-raycast' open-image="target:panel;src:./img/da-vinci/15-oil-press.jpg">
            </a-image>
        </a-entity>
        <!-- Hidraulic Saw -->
        <a-entity class="geo-set" visible="false">
            <a-image src="./img/da-vinci/buton00.png" scale="1 1 1" position="-0.033 -1.53 -3.99" look-at="#cam"
                class='to-raycast' open-image="target:panel;src:./img/da-vinci/16-hydraulic-saw.jpg">
            </a-image>
        </a-entity>
    </a-scene>

    <script src="./js/general/info-points.js"></script>
    <script src="./js/general/hotspot.js"></script>
    <script src="./js/general/play-on-window-click.js"></script>
    <script src="./js/general/video-controls.js"></script>
    <script src="./js/general/vr-controller.js"></script>
    <script src="./js/controllers/steps-controller.js"></script>
    <script src="./js/controllers/da-vinci-controller.js"></script>
    <script src="./js/libs/dat.gui.min.js"></script>
    <!-- <script src="./js/general/debug-utils.js"></script> -->

</body>

</html>